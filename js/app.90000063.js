(function(){"use strict";var e={6883:function(e,t,n){n.d(t,{I:function(){return c},db:function(){return u}});var i=n(3977),r=n(3387),o=n(3247);const a={apiKey:"AIzaSyCgQRgEbWtD8YdAB7ibPlhEO7bjWYG4o60",authDomain:"amia-baseline-survey.firebaseapp.com",projectId:"amia-baseline-survey",storageBucket:"amia-baseline-survey.appspot.com",messagingSenderId:"911552969045",appId:"1:911552969045:web:51ac29e0c0ae77b43097dc"},s=(0,i.ZF)(a),c=(0,r.v0)(),u=(0,o.ad)(s)},7398:function(e,t,n){var i=n(144),r=n(998),o=n(5100),a=n(5550),s=n(4562),c=n(4145),u=n(4127),l=n(4324),d=n(5495),f=n(5808),p=n(4525),h=n(5200),m=n(3059),v=n(9709),b=n(3305),g=n(3687),_=n(7953),A=n(2082),y=n(3130),S=function(){var e=this,t=e._self._c;return t(r.Z,[e.isUnderConstruction?[t("UnderConstruction")]:[e.isLoggedIn||e.$vuetify.breakpoint.xsOnly?t(v.Z,{attrs:{color:"background",clipped:e.$vuetify.breakpoint.lgAndUp,app:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[t(f.Z,{style:{padding:0},attrs:{dense:""}},[e.isLoggedIn?t(p.Z,{attrs:{to:"/beneficiaries"}},[t(l.Z,{staticClass:"mr-2"},[e._v("mdi-account-group")]),t(h.km,[t(h.V9,[t("span",{staticClass:"text-button"},[e._v(" VIEW BENEFICIARIES ")])])],1)],1):e._e(),e.$vuetify.breakpoint.xsOnly?t("div",[t("br"),e.isLoggedIn?t(p.Z,{attrs:{to:"#"},on:{click:function(t){return e.logout()}}},[t(h.km,[t(h.V9,[t("span",{staticClass:"text-button"},[e._v("LOGOUT")])])],1)],1):t(p.Z,{attrs:{to:"/login"}},[t(h.km,[t(h.V9,[t("span",{staticClass:"text-button"},[e._v("ADMIN")])])],1)],1),t(p.Z,{attrs:{to:"/about"}},[t(h.km,[t(h.V9,[t("span",{staticClass:"text-button"},[e._v("ABOUT")])])],1)],1),t(p.Z,{on:{click:function(t){return e.toggleTheme()}}},[t(h.km,[t(h.V9,[e.$vuetify.theme.dark?t("span",{staticClass:"text-button"},[e._v("GO LIGHT THEME")]):t("span",{staticClass:"text-button"},[e._v(" GO DARK THEME ")])])],1)],1)],1):e._e()],1)],1):e._e(),t(o.Z,{attrs:{"clipped-left":e.$vuetify.breakpoint.lgAndUp,color:"primary",elevation:"1",app:""}},[e.isLoggedIn||e.$vuetify.breakpoint.xsOnly?t(a.Z,{on:{click:function(t){t.stopPropagation(),e.drawer=!e.drawer}}}):e._e(),t(a.Z,{attrs:{disabled:""}},[t(d.Z,{attrs:{"max-height":"50","max-width":"50",src:n(7646)}})],1),t(_.qW,[t(A.Z,{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function({on:n,attrs:i}){return[t(s.Z,e._g(e._b({attrs:{text:""},on:{click:function(t){return e.goHome()}}},"v-btn",i,!1),n),[t("h1",{staticClass:"white--text"},[e._v("AMIA")])])]}}])},[t("span",[e._v("Go to Home Page")])])],1),t(A.Z,{attrs:{right:""},scopedSlots:e._u([{key:"activator",fn:function({on:n,attrs:i}){return[e.isLoggedIn?t(u.Z,e._g(e._b({attrs:{color:"white",small:"",outlined:""}},"v-chip",i,!1),n),[t("strong",[e._v("ADMIN")])]):e._e()]}}])},[t("span",[e._v("Logged as Admin")])]),t(g.Z),e.$vuetify.breakpoint.smAndUp?t("div",[t(A.Z,{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function({on:n,attrs:i}){return[t(s.Z,e._g(e._b({attrs:{icon:"",color:"white",to:"/about"}},"v-btn",i,!1),n),[t(l.Z,[e._v("mdi-help-circle-outline")])],1)]}}],null,!1,4006985061)},[t("span",[e._v("About Baseline")])]),t("span",{staticClass:"mr-5"},[e.$vuetify.theme.dark?t(A.Z,{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function({on:n,attrs:i}){return[t(s.Z,e._g(e._b({attrs:{icon:"",color:"white"},on:{click:function(t){return e.toggleTheme()}}},"v-btn",i,!1),n),[t(l.Z,[e._v("mdi-lightbulb-on-10")])],1)]}}],null,!1,1504432942)},[t("span",[e._v("Use Light Theme")])]):t(A.Z,{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function({on:n,attrs:i}){return[t(s.Z,e._g(e._b({attrs:{icon:"",color:"white"},on:{click:function(t){return e.toggleTheme()}}},"v-btn",i,!1),n),[t(l.Z,[e._v("mdi-lightbulb-off")])],1)]}}],null,!1,3403994572)},[t("span",[e._v("Use Dark Theme")])])],1),e.isLoggedIn?t(A.Z,{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function({on:n,attrs:i}){return[t(s.Z,e._g(e._b({staticClass:"mr-5",attrs:{color:"white",text:""},on:{click:function(t){return e.logout()}}},"v-btn",i,!1),n),[e._v(" LOGOUT ")])]}}],null,!1,1678647020)},[t("span",[e._v("Logout as Admin")])]):t(A.Z,{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function({on:n,attrs:i}){return[t(s.Z,e._g(e._b({staticClass:"mr-5",attrs:{color:"white",to:"/login",outlined:""}},"v-btn",i,!1),n),[e._v(" ADMIN ")])]}}],null,!1,4047171640)},[t("span",[e._v("Login as an Admin")])])],1):e._e()],1),t(c.Z,{attrs:{color:"background",flat:"",height:"100%"}},[t(m.Z,[e.isLoading?t("p",{staticClass:"text-center mt-10"},[t(b.Z,{attrs:{indeterminate:"",color:"primary",size:50}})],1):t("router-view")],1),t(A.Z,{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function({on:n,attrs:i}){return[t(s.Z,e._g(e._b({directives:[{def:y.Z,name:"scroll",rawName:"v-scroll",value:e.onScroll,expression:"onScroll"},{name:"show",rawName:"v-show",value:e.fab,expression:"fab"}],attrs:{fab:"",dark:"",fixed:"",bottom:"",right:"",color:"primary"},on:{click:e.toTop}},"v-btn",i,!1),n),[t(l.Z,[e._v("mdi-chevron-up")])],1)]}}])},[t("span",[e._v("Go to Top of Page")])])],1)]],2)},E=[];var I=n(6883),T=n(3247),k=n(2118),w=function(){var e=this,t=e._self._c;return t(k.Z,[t("div",{staticClass:"text-center"},[t("br"),t("br"),t("strong",[e._v("AMIA Baseline Survey is under construction. ")]),t("br"),e._v(" Please contact the admin for more info. ")])])},C=[],Z={name:"UnderConstruction"},L=Z,O=n(1001),B=(0,O.Z)(L,w,C,!1,null,null,null),N=B.exports,P={name:"App",components:{UnderConstruction:N},data:()=>({drawer:null,fab:!1,isUnderConstruction:!1}),created(){this.setTheme(),this.setDrawer(),this.initialize()},computed:{isLoggedIn(){return Boolean(this.$store.state.user.loggedIn)},isLoading(){return this.$store.state.isLoading}},methods:{goHome(){this.$router.push("/").catch((()=>{}))},goToLogin(){this.$router.push("/login")},initialize(){this.$store.dispatch("setGlobalLoaderAction",!0);try{{const e=(0,T.IO)((0,T.hJ)(I.db,"beneficiaries"),(0,T.Xo)("createdAt","desc"));(0,T.cf)(e,(e=>{let t=[];e.forEach((e=>{const{part0:n,part1:i,part2:r,part3:o,part4:a,part5:s,part6:c,part7:u,part8:l,createdAt:d,userId:f}=e.data(),p={...n,...i,...r,...o,...a,...s,...c,...u,...l,createdAt:d,userId:f,beneficiaryId:e.id};t.push(p)})),this.$store.dispatch("setBeneficiariesAction",t),this.setProvincesWithTheirBeneficiaries(t)}))}}catch(e){this.$store.dispatch("setSnackbarAction",!0),this.$store.dispatch("setSnackbarDetailsAction",{color:"error",text:"Failed to load data! Please contact admin."}),this.$store.dispatch("setBeneficiariesAction",[])}this.$store.dispatch("setGlobalLoaderAction",!1)},logout(){this.$store.dispatch("setLogoutAction",null),this.$router.push("/").catch((()=>{}))},setDrawer(){this.$vuetify.breakpoint.lgAndUp?this.drawer=!0:this.drawer=!1},setProvincesWithTheirBeneficiaries(e){const t=0,n=1,i=2,r=3,o=4,a=5;let s=[{province:"ALBAY",beneficiaries:[]},{province:"CAMARINES NORTE",beneficiaries:[]},{province:"CAMARINES SUR",beneficiaries:[]},{province:"CATANDUANES",beneficiaries:[]},{province:"MASBATE",beneficiaries:[]},{province:"SORSOGON",beneficiaries:[]}];e.forEach((e=>{"ALBAY"===e.province?s[t].beneficiaries.push(e):"CAMARINES NORTE"===e.province?s[n].beneficiaries.push(e):"CAMARINES SUR"===e.province?s[i].beneficiaries.push(e):"CATANDUANES"===e.province?s[r].beneficiaries.push(e):"MASBATE"===e.province?s[o].beneficiaries.push(e):"SORSOGON"===e.province&&s[a].beneficiaries.push(e)})),this.$store.dispatch("setProvinceWithTheirBeneficiariesAction",s)},setTheme(){const e=localStorage.getItem("dark_theme");this.$vuetify.theme.dark="true"===e},toggleTheme(){this.$vuetify.theme.dark=!this.$vuetify.theme.dark,localStorage.setItem("dark_theme",this.$vuetify.theme.dark.toString())},onScroll(e){if("undefined"===typeof window)return;const t=window.pageYOffset||e.target.scrollTop||0;this.fab=t>20},toTop(){this.$vuetify.goTo(0)}}},x=P,F=(0,O.Z)(x,S,E,!1,null,null,null),R=F.exports,$=n(8345),U=n(266),D=n(1713),V=function(){var e=this,t=e._self._c;return t(k.Z,[t(D.Z,[t(U.Z,{attrs:{cols:"12",sm:"8"}},[t("h3",[e._v("LIST OF BENEFICIARIES")]),t(c.Z,{staticClass:"mt-2 pa-5 overflow-y-auto",attrs:{color:"middleground",flat:"",height:e.$vuetify.breakpoint.xs?"60vh":"80vh"}},e._l(e.provinceWithTheirBeneficiaries,(function(n,i){return t("div",{key:i},[t("div",{staticClass:"mb-10"},[t("h4",[e._v(e._s(n.province))]),t("BeneficiariesPerProvince",{attrs:{beneficiaries:n.beneficiaries}})],1)])})),0)],1),t(U.Z,{attrs:{cols:"12",sm:"3"}})],1)],1)},M=[],G=n(9449),W=function(){var e=this,t=e._self._c;return t("div",[e.beneficiaries.length>0?t("div",{staticClass:"overflow-y-auto",style:{height:"175px"}},[t(G.Z,{scopedSlots:e._u([{key:"default",fn:function(){return[t("thead",[t("tr",[t("th",{staticClass:"text-left"}),t("th",{staticClass:"text-left"},[e._v("NAME")]),t("th",{staticClass:"text-left"},[e._v("MUNICIPALITY")])])]),t("tbody",e._l(e.beneficiaries,(function(n,i){return t("tr",{key:n.name},[t("td",[e._v(e._s(i+1))]),t("td",[e._v(e._s(n.nameOfFarmer))]),t("td",[e._v(e._s(n.cityOrMunicipality))])])})),0)]},proxy:!0}],null,!1,3268557103)})],1):t("p",{staticClass:"ml-2 text-body-2"},[e._v("No listed beneficiaries.")])])},j=[],H={props:["beneficiaries"]},z=H,K=(0,O.Z)(z,W,j,!1,null,null,null),Y=K.exports,J={name:"HomePageView",components:{BeneficiariesPerProvince:Y},computed:{provinceWithTheirBeneficiaries(){return this.$store.state.provinceWithTheirBeneficiaries}}},q=J,Q=(0,O.Z)(q,V,M,!1,null,null,null),X=Q.exports,ee=n(629),te=n(3387);const ne="SET_GLOBAL_LOADER",ie="SET_LOGIN",re="SET_USER",oe="SET_BENEFICIARIES",ae="SET_PROVINCE_WITH_THEIR_BENEFICIARIES",se="SET_SNACKBAR",ce="SET_SNACKBAR_DETAILS";i.ZP.use(ee.ZP);var ue=new ee.ZP.Store({state:{user:{loggedIn:!1,data:null},beneficiaries:[],provinceWithTheirBeneficiaries:[],isLoading:!1,snackbar:!1,snackbarDetails:null,fivePointScale:["Very Severe [Disastrous]","Severe [Critical]","Significant","Somewhat Significant","Irrelevant"],generalThreeChoice:["Yes","No","I don't know"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],seasonList:["Wet","Dry","Both"],sourceOfInformationOptions:["TV","Radio","Internet","Flyers","Social Media","Newspaper","Agricultural Technicians (LGU)","Seed Companies","Traders","Cooperatives and Farmers' Association","Co-Farmers","Brgy. Officials","Friends and Relatives","Agrichemical Suppliers","Others"],threePointScale:["1 - Very Important","2 - Important","3 - Not Important"]},getters:{beneficiariesPerProvince:e=>t=>t?e.beneficiaries.filter((e=>e.province===t)):e.beneficiaries},mutations:{[ne](e,t){e.isLoading=t},[ie](e,t){e.user.loggedIn=t},[re](e,t){e.user.data=t},[oe](e,t){e.beneficiaries=t},[ae](e,t){e.provinceWithTheirBeneficiaries=t},[se](e,t){e.snackbar=t},[ce](e,t){e.snackbarDetails=t}},actions:{setBeneficiariesAction({commit:e},t){e("SET_BENEFICIARIES",t)},setProvinceWithTheirBeneficiariesAction({commit:e},t){e("SET_PROVINCE_WITH_THEIR_BENEFICIARIES",t)},setGlobalLoaderAction({commit:e},t){e("SET_GLOBAL_LOADER",t)},async setLoginAction({commit:e},t){e("SET_LOGIN",t)},async setLogoutAction({commit:e}){await(0,te.w7)(I.I),e("SET_LOGIN",null),e("SET_USER",null)},async setUserAction({commit:e},t){e("SET_LOGIN",null!==t),e("SET_USER",t?{email:t.email,userId:t.uid}:null)},setSnackbarAction({commit:e},t){e("SET_SNACKBAR",t)},setSnackbarDetailsAction({commit:e},t){e("SET_SNACKBAR_DETAILS",t)}},modules:{}});function le(e,t,n){ue.state.user.loggedIn?n():n("/unauthorized")}function de(e,t,n){"LoginView"===e.name||ue.state.user.loggedIn?n():n({name:"LoginView"})}i.ZP.use($.Z);const fe=[{path:"/",name:"HomePageView",component:X},{path:"/beneficiaries",name:"BeneficiariesView",beforeEnter:le,component:()=>Promise.all([n.e(459),n.e(77),n.e(305)]).then(n.bind(n,1568))},{path:"/about",name:"AboutView",component:()=>n.e(74).then(n.bind(n,1272))},{path:"/add",name:"AddBeneficiaryView",beforeEnter:le,component:()=>Promise.all([n.e(459),n.e(77),n.e(424)]).then(n.bind(n,2660))},{path:"/view/survey/:surveyNo",name:"ViewBeneficiaryView",beforeEnter:le,component:()=>Promise.all([n.e(459),n.e(77),n.e(424)]).then(n.bind(n,2660))},{path:"/edit/survey/:surveyNo",name:"EditBeneficiaryView",beforeEnter:le,component:()=>Promise.all([n.e(459),n.e(77),n.e(424)]).then(n.bind(n,2660))},{path:"/login",name:"LoginView",beforeEnter:de,component:()=>Promise.all([n.e(459),n.e(438)]).then(n.bind(n,7426))},{path:"/unauthorized",name:"UnauthorizedPageView",component:()=>n.e(73).then(n.bind(n,74))},{path:"*",name:"PageNotFound",component:()=>n.e(892).then(n.bind(n,60))}],pe=new $.Z({mode:"history",base:"/",routes:fe});var he=pe,me=n(1705);i.ZP.use(me.Z);var ve=new me.Z({theme:{themes:{light:{primary:"#5B821A",accent:"#FFAD00",background:"#EFEFEF",middleground:"#FFFFFF",success:"#43A047",warning:"#FF9800",error:"#B71C1C"},dark:{primary:"#5B821A",accent:"#FFAD00",background:"#15202b",middleground:"#202934",success:"#43A047",warning:"#FF9800",error:"#B71C1C"}}}});i.ZP.config.productionTip=!1;{let e;I.I.onAuthStateChanged((t=>{ue.dispatch("setUserAction",t).then((()=>{e||(e=new i.ZP({router:he,store:ue,vuetify:ve,render:e=>e(R)}).$mount("#app"))}))}))}},7646:function(e,t,n){e.exports=n.p+"img/da-amia.1bf8d5b0.png"}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var o=t[i]={exports:{}};return e[i](o,o.exports,n),o.exports}n.m=e,function(){var e=[];n.O=function(t,i,r,o){if(!i){var a=1/0;for(l=0;l<e.length;l++){i=e[l][0],r=e[l][1],o=e[l][2];for(var s=!0,c=0;c<i.length;c++)(!1&o||a>=o)&&Object.keys(n.O).every((function(e){return n.O[e](i[c])}))?i.splice(c--,1):(s=!1,o<a&&(a=o));if(s){e.splice(l--,1);var u=r();void 0!==u&&(t=u)}}return t}o=o||0;for(var l=e.length;l>0&&e[l-1][2]>o;l--)e[l]=e[l-1];e[l]=[i,r,o]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,i){return n.f[i](e,t),t}),[]))}}(),function(){n.u=function(e){return"js/"+({73:"Unatuhorized",74:"About",305:"Beneficiaries",424:"AddBeneficiaries",438:"Login",892:"PageNotFound"}[e]||e)+"."+{73:"ccab7db6",74:"b8fda967",77:"1fbfcbe6",305:"e73a71fc",424:"2c8ad104",438:"a8a7ea21",459:"800ebd46",892:"be8cbef6"}[e]+".js"}}(),function(){n.miniCssF=function(e){return"css/"+({305:"Beneficiaries",424:"AddBeneficiaries",438:"Login"}[e]||e)+"."+{305:"a4fee3ee",424:"31c686bd",438:"9f728db9",459:"e9374709"}[e]+".css"}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="client:";n.l=function(i,r,o,a){if(e[i])e[i].push(r);else{var s,c;if(void 0!==o)for(var u=document.getElementsByTagName("script"),l=0;l<u.length;l++){var d=u[l];if(d.getAttribute("src")==i||d.getAttribute("data-webpack")==t+o){s=d;break}}s||(c=!0,s=document.createElement("script"),s.charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+o),s.src=i),e[i]=[r];var f=function(t,n){s.onerror=s.onload=null,clearTimeout(p);var r=e[i];if(delete e[i],s.parentNode&&s.parentNode.removeChild(s),r&&r.forEach((function(e){return e(n)})),t)return t(n)},p=setTimeout(f.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=f.bind(null,s.onerror),s.onload=f.bind(null,s.onload),c&&document.head.appendChild(s)}}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.p="/"}(),function(){var e=function(e,t,n,i){var r=document.createElement("link");r.rel="stylesheet",r.type="text/css";var o=function(o){if(r.onerror=r.onload=null,"load"===o.type)n();else{var a=o&&("load"===o.type?"missing":o.type),s=o&&o.target&&o.target.href||t,c=new Error("Loading CSS chunk "+e+" failed.\n("+s+")");c.code="CSS_CHUNK_LOAD_FAILED",c.type=a,c.request=s,r.parentNode.removeChild(r),i(c)}};return r.onerror=r.onload=o,r.href=t,document.head.appendChild(r),r},t=function(e,t){for(var n=document.getElementsByTagName("link"),i=0;i<n.length;i++){var r=n[i],o=r.getAttribute("data-href")||r.getAttribute("href");if("stylesheet"===r.rel&&(o===e||o===t))return r}var a=document.getElementsByTagName("style");for(i=0;i<a.length;i++){r=a[i],o=r.getAttribute("data-href");if(o===e||o===t)return r}},i=function(i){return new Promise((function(r,o){var a=n.miniCssF(i),s=n.p+a;if(t(a,s))return r();e(i,s,r,o)}))},r={143:0};n.f.miniCss=function(e,t){var n={305:1,424:1,438:1,459:1};r[e]?t.push(r[e]):0!==r[e]&&n[e]&&t.push(r[e]=i(e).then((function(){r[e]=0}),(function(t){throw delete r[e],t})))}}(),function(){var e={143:0};n.f.j=function(t,i){var r=n.o(e,t)?e[t]:void 0;if(0!==r)if(r)i.push(r[2]);else{var o=new Promise((function(n,i){r=e[t]=[n,i]}));i.push(r[2]=o);var a=n.p+n.u(t),s=new Error,c=function(i){if(n.o(e,t)&&(r=e[t],0!==r&&(e[t]=void 0),r)){var o=i&&("load"===i.type?"missing":i.type),a=i&&i.target&&i.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",s.name="ChunkLoadError",s.type=o,s.request=a,r[1](s)}};n.l(a,c,"chunk-"+t,t)}},n.O.j=function(t){return 0===e[t]};var t=function(t,i){var r,o,a=i[0],s=i[1],c=i[2],u=0;if(a.some((function(t){return 0!==e[t]}))){for(r in s)n.o(s,r)&&(n.m[r]=s[r]);if(c)var l=c(n)}for(t&&t(i);u<a.length;u++)o=a[u],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(l)},i=self["webpackChunkclient"]=self["webpackChunkclient"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=n.O(void 0,[998],(function(){return n(7398)}));i=n.O(i)})();
//# sourceMappingURL=app.90000063.js.map